import{_ as e,aj as t,ak as a,al as l,am as o,o as n,b as s,a as i,w as r,h as c,t as d,ao as h,ap as p,ar as u,a4 as g}from"./.pnpm.js";import{l as f,d as m}from"./login_log.js";import"./index.js";const b={class:"pd-20 bg-fff content-wrap"};const C=e({name:"loginlog-index",setup:()=>({Edit:t,Delete:a,View:l,Search:o}),data:()=>({keywords:"",tableData:[],multipleSelection:[],count:0,cur:1}),computed:{},created(){this.list()},methods:{async list(){try{let e=await f(this.cur);200===e.code&&(this.tableData=[...e.data.list],this.count=e.data.count,e.data.total>100&&this.handleDel())}catch(e){console.log(e)}},handleCurrentChange(e){this.cur=e,this.list()},toggleSelection(e){e?e.forEach((e=>{this.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange(e){this.multipleSelection=e},async handleDel(){try{200===(await m()).code&&this.list()}catch(e){console.log(e)}}}},[["render",function(e,t,a,l,o,f){const m=h,C=p,w=u,y=g;return n(),s("div",b,[i(C,{ref:"multipleTable",data:e.tableData,"tooltip-effect":"dark","row-key":"id",onSelectionChange:f.handleSelectionChange},{default:r((()=>[i(m,{type:"selection"}),i(m,{prop:"id",width:"100",label:"编号"}),i(m,{prop:"username",label:"登录用户"}),i(m,{prop:"ip",label:"登录IP"}),i(m,{prop:"createdAt",label:"登录日期"},{default:r((e=>[c(d(e.row.createdAt),1)])),_:1})])),_:1},8,["data","onSelectionChange"]),i(y,{type:"flex",class:"mt-20 align-c",justify:"center"},{default:r((()=>[i(w,{background:"",layout:"prev, pager, next",onCurrentChange:f.handleCurrentChange,"page-size":20,total:e.count,"hide-on-single-page":""},null,8,["onCurrentChange","total"])])),_:1})])}]]);export{C as default};
