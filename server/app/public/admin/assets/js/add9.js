import{_ as e,o as a,b as s,a as l,w as m,h as t,a1 as r,a2 as o,af as d,x as u,a0 as n}from"./.pnpm.js";import{c as p}from"./model.js";import"./index.js";const i={class:"mr-10 ml-10 mb-20 pd-20 content-wrap"};const c=e({name:"model-add",components:{},data:()=>({params:{model_name:"",table_name:"",status:"1"},paramsRules:{model_name:[{required:!0,message:"模型名称",trigger:"blur"},{min:2,max:80,message:"名称长度在 2 到 80 个字符之间",trigger:"blur"}],table_name:[{required:!0,message:"新增表名",trigger:"blur"},{min:2,max:80,message:"名称长度在 2 到 80 个字符之间",trigger:"blur"}]}}),computed:{},mounted(){},created(){},methods:{handleAttr(e){console.log("e--\x3e",e)},change(e){console.log(e),this.params.table_name=e},async create(){try{let e={...this.params},a=await p(e);200==a.code?this.$message({message:"更新成功^_^",type:"success"}):this.$message({message:a.msg,type:"success"})}catch(e){console.log(e)}},submit(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;this.create()}))}}},[["render",function(e,p,c,g,_,b){const f=r,h=o,V=d,x=u,y=n;return a(),s("div",i,[l(y,{ref:"params",model:e.params,rules:e.paramsRules,"label-width":"100px",class:"mt-20"},{default:m((()=>[l(h,{label:"模型名称",prop:"model_name"},{default:m((()=>[l(f,{modelValue:e.params.model_name,"onUpdate:modelValue":p[0]||(p[0]=a=>e.params.model_name=a),onInput:b.change},null,8,["modelValue","onInput"])])),_:1}),l(h,{label:"新增表名",prop:"table_name"},{default:m((()=>[l(f,{modelValue:e.params.table_name,"onUpdate:modelValue":p[1]||(p[1]=a=>e.params.table_name=a),disabled:""},null,8,["modelValue"])])),_:1}),l(h,{label:"是否启用"},{default:m((()=>[l(V,{modelValue:e.params.status,"onUpdate:modelValue":p[2]||(p[2]=a=>e.params.status=a),value:"1"},{default:m((()=>[t("开启")])),_:1},8,["modelValue"]),l(V,{modelValue:e.params.status,"onUpdate:modelValue":p[3]||(p[3]=a=>e.params.status=a),value:"0"},{default:m((()=>[t("禁用")])),_:1},8,["modelValue"])])),_:1}),l(h,null,{default:m((()=>[l(x,{type:"primary",onClick:p[4]||(p[4]=e=>b.submit("params"))},{default:m((()=>[t("保存")])),_:1})])),_:1})])),_:1},8,["model","rules"])])}]]);export{c as default};
