System.register(["./.pnpm-legacy.js","./sys_user-legacy.js","./sys_role-legacy.js","./index-legacy.js"],(function(e,a){"use strict";var s,l,t,r,u,m,d,o,n,i,c,p,g,f,y,_,V,h;return{setters:[e=>{s=e._,l=e.o,t=e.b,r=e.a,u=e.w,m=e.F,d=e.d,o=e.c,n=e.h,i=e.t,c=e.a1,p=e.a2,g=e.af,f=e.av,y=e.x,_=e.a0},e=>{V=e.c},e=>{h=e.l},null],execute:function(){const a={class:"content-wrap"};e("default",s({name:"sysUser-add",data:()=>({params:{username:"",password:"",status:"1",role_id:0},cur:1,role:[],paramsRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"2到20个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"6到20个字符",trigger:"blur"}]}}),computed:{},async mounted(){await this.list()},async created(){},methods:{async list(){try{let e=await h(this.cur);200===e.code&&(this.role=e.data.list)}catch(e){console.log(e)}},async create(){try{let e=await V(this.params);200==e.code?(this.$message({message:"更新成功^_^",type:"success"}),this.$router.go(-1)):this.$message({message:e.msg,type:"success"})}catch(e){console.log(e)}},submit(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;this.create()}))}}},[["render",function(e,s,V,h,b,w){const v=c,x=p,U=g,j=f,$=y,k=_;return l(),t("div",a,[r(k,{ref:"params",model:e.params,rules:e.paramsRules,"label-width":"84px",class:""},{default:u((()=>[r(x,{label:"用户名",prop:"username"},{default:u((()=>[r(v,{modelValue:e.params.username,"onUpdate:modelValue":s[0]||(s[0]=a=>e.params.username=a)},null,8,["modelValue"])])),_:1}),r(x,{label:"密码",prop:"password"},{default:u((()=>[r(v,{modelValue:e.params.password,"onUpdate:modelValue":s[1]||(s[1]=a=>e.params.password=a)},null,8,["modelValue"])])),_:1}),r(x,{label:"角色"},{default:u((()=>[r(j,{modelValue:e.params.role_id,"onUpdate:modelValue":s[2]||(s[2]=a=>e.params.role_id=a)},{default:u((()=>[(l(!0),t(m,null,d(e.role,(e=>(l(),o(U,{value:e.id,key:e.id},{default:u((()=>[n(i(e.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1}),r(x,{label:"是否显示"},{default:u((()=>[r(U,{modelValue:e.params.status,"onUpdate:modelValue":s[3]||(s[3]=a=>e.params.status=a),value:"1"},{default:u((()=>[n("启用")])),_:1},8,["modelValue"]),r(U,{modelValue:e.params.status,"onUpdate:modelValue":s[4]||(s[4]=a=>e.params.status=a),value:"2"},{default:u((()=>[n("关闭")])),_:1},8,["modelValue"])])),_:1}),r(x,null,{default:u((()=>[r($,{type:"primary",onClick:s[5]||(s[5]=e=>w.submit("params"))},{default:u((()=>[n("保存")])),_:1})])),_:1})])),_:1},8,["model","rules"])])}]]))}}}));
