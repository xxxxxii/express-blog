import{_ as a,o as e,b as s,a as t,w as l,h as r,a1 as m,a2 as o,x as d,a0 as i}from"./.pnpm.js";import{d as u,u as n}from"./friendlink.js";import"./index.js";const p={class:"mr-10 ml-10 mb-20 pd-20 content-wrap"};const c=a({name:"friendlink-edit",data:()=>({params:{id:0,title:"",link:"",sort:0},paramsRules:{name:[{required:!0,message:"请输入栏目名称",trigger:"blur"},{min:2,max:50,message:"名称长度在 2 到 50 个字符之间",trigger:"blur"}]}}),computed:{},mounted(){},async created(){this.params.id=this.$route.params.id,await this.detail()},methods:{async detail(){try{let a=await u(this.params.id);200===a.code&&(this.params=a.data)}catch(a){console.error(a)}},handleAttr(a){console.log("e--\x3e",a)},handleSubCid(a){console.log("e--\x3e",a)},async update(){try{let a=await n(this.params);200==a.code?(this.$message({message:"更新成功^_^",type:"success"}),this.$router.go(-1)):this.$message({message:a.msg,type:"success"})}catch(a){console.log(a)}},submit(a){this.$refs[a].validate((a=>{if(!a)return console.log("error submit!!"),!1;this.update()}))}}},[["render",function(a,u,n,c,h,g){const f=m,b=o,y=d,V=i;return e(),s("div",p,[t(V,{ref:"params",model:a.params,rules:a.paramsRules,"label-width":"80px",class:"mt-20"},{default:l((()=>[t(b,{label:"标题",prop:"title"},{default:l((()=>[t(f,{modelValue:a.params.title,"onUpdate:modelValue":u[0]||(u[0]=e=>a.params.title=e)},null,8,["modelValue"])])),_:1}),t(b,{label:"链接"},{default:l((()=>[t(f,{modelValue:a.params.link,"onUpdate:modelValue":u[1]||(u[1]=e=>a.params.link=e)},null,8,["modelValue"])])),_:1}),t(b,{label:"排序"},{default:l((()=>[t(f,{modelValue:a.params.sort,"onUpdate:modelValue":u[2]||(u[2]=e=>a.params.sort=e)},null,8,["modelValue"])])),_:1}),t(b,null,{default:l((()=>[t(y,{type:"primary",onClick:u[3]||(u[3]=a=>g.submit("params"))},{default:l((()=>[r("保存")])),_:1})])),_:1})])),_:1},8,["model","rules"])])}]]);export{c as default};
