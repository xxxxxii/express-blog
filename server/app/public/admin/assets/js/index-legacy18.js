System.register(["./.pnpm-legacy.js","./tag-legacy.js","./index-legacy.js"],(function(e,t){"use strict";var a,r,l,s,o,c,n,i,d,u,h,m,p,g,y,f,w,k,C,b,S,_;return{setters:[e=>{a=e._,r=e.aj,l=e.ak,s=e.al,o=e.am,c=e.r,n=e.o,i=e.b,d=e.g,u=e.a,h=e.w,m=e.h,p=e.a1,g=e.a2,y=e.x,f=e.a0,w=e.ao,k=e.ap,C=e.ar,b=e.a4},e=>{S=e.s,_=e.a},null],execute:function(){var t=document.createElement("style");t.textContent="[data-v-e780ef11] .el-form-item{margin-bottom:0}\n",document.head.appendChild(t);const x={class:"content-wrap"},$={class:"search row justify-between align-c pt-10 pl-20 pr-20 pb-20 mb-20"};e("default",a({name:"tag-index",setup:()=>({Edit:r,Delete:l,View:s,Search:o}),data:()=>({tableData:[],multipleSelection:[],count:0,cur:1,params:{keywords:""}}),computed:{},created(){let{cur:e=1,keywords:t=""}=this.$route.query;this.cur=+e,this.keywords=t,this.search()},watch:{$route(e,t){if("tag-index"==e.name){let{cur:t,keywords:a}=e.query;this.cur=+t,this.keywords=a,this.search()}}},methods:{clearSearch(e){e&&this.$refs.form.resetFields(),this.$router.replace({name:"tag-index",query:{cur:1,cid:0,keywords:""}}),this.search()},doSearch(){this.$router.replace({name:"tag-index",query:{cur:this.cur,keywords:this.params.keywords}}),this.search()},async search(){try{let e=await S(this.cur,this.params.keywords);200===e.code?(this.tableData=[...e.data.list],this.count=e.data.count):this.$message({message:e.msg,type:"success"})}catch(e){console.log(e)}},handleCurrentChange(e){this.cur=+e,this.doSearch()},toggleSelection(e){e?e.forEach((e=>{this.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange(e){this.multipleSelection=e},toEdit(e){let t=e.id;this.$router.push({name:"tag-edit",params:{id:t}})},async handleDel(e){let t=e.id;try{let e=await _(t);200==e.code?(this.$message({message:"删除成功 ^_^",type:"success"}),this.search()):this.$message({message:e.msg,type:"error"})}catch(a){console.log(a)}}}},[["render",function(e,t,a,r,l,s){const o=p,S=g,_=y,v=f,D=c("router-link"),j=w,E=k,q=C,V=b;return n(),i("div",x,[d("div",$,[u(v,{inline:!0,model:e.params,ref:"form"},{default:h((()=>[u(S,{class:"mt-10",label:"标题",prop:"keywords"},{default:h((()=>[u(o,{class:"mr-10 w-auto",placeholder:"请输入内容","suffix-icon":r.Search,clearable:"",onClear:s.clearSearch,modelValue:e.params.keywords,"onUpdate:modelValue":t[0]||(t[0]=t=>e.params.keywords=t)},null,8,["suffix-icon","onClear","modelValue"])])),_:1}),u(S,{class:"mt-10"},{default:h((()=>[u(_,{type:"primary",onClick:s.search,round:""},{default:h((()=>[m("搜索")])),_:1},8,["onClick"]),u(_,{onClick:t[1]||(t[1]=e=>s.clearSearch("form")),round:""},{default:h((()=>[m("清空")])),_:1})])),_:1})])),_:1},8,["model"]),u(D,{class:"mt-10",to:"/tag/add"},{default:h((()=>[u(_,{type:"primary",round:""},{default:h((()=>[m("新增")])),_:1})])),_:1})]),u(E,{ref:"multipleTable",data:e.tableData,"tooltip-effect":"dark","row-key":"id",onSelectionChange:s.handleSelectionChange},{default:h((()=>[u(j,{type:"selection"}),u(j,{prop:"id",label:"编号"}),u(j,{prop:"name",label:"名称"}),u(j,{prop:"path",label:"标识"}),u(j,{fixed:"right",width:"100",label:"操作"},{default:h((e=>[u(_,{icon:r.Edit,circle:"",onClick:t=>s.toEdit(e.row)},null,8,["icon","onClick"]),u(_,{icon:r.Delete,circle:"",onClick:t=>s.handleDel(e.row)},null,8,["icon","onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),u(V,{type:"flex",class:"mt-20 align-c",justify:"center"},{default:h((()=>[u(q,{background:"",layout:"prev, pager, next",onCurrentChange:s.handleCurrentChange,"page-size":10,total:e.count,currentPage:e.cur,"onUpdate:currentPage":t[2]||(t[2]=t=>e.cur=t),"hide-on-single-page":""},null,8,["onCurrentChange","total","currentPage"])])),_:1})])}],["__scopeId","data-v-e780ef11"]]))}}}));
